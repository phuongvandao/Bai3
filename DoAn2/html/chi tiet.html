<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/chi tiet.css">
    <script src="https://kit.fontawesome.com/1147679ae7.js" crossorigin="anonymous"></script>
    <title>Chi Tiết</title>
</head>
<body>
    <header>
        <nav>
            <div class="img">
                <a href="/html/trang chu.html"><img src="http://beedesign.com.vn/wp-content/uploads/2020/09/thiet-ke-logo-chu-m-leaf.jpg"
                alt=""></a>
            </div>
            <div class="content-nav">
                
                <ul>
                    <li><a href="/html/trang chu.html" >Trang Chủ</a></li>
                    <li><a href="/html/san pham.html">Sản Phẩm</a></li>
                    <li><a href="https://www.facebook.com/profile.php?id=100036067421825">Liên Hệ Facebook</a></li>
                    <li><a href="#">Giới Thiệu</a></li>
                </ul>
                <form>
                    <input class="search" type="text" name="search" placeholder="Tìm kiếm sản phẩm..." />
                </form>
            </div>
            <button id="cart">
                <i class="fa fa-shopping-basket"></i>
            </button>
            <button id="cart" >
                <a href="/html/login.html"><i class="fas fa-user"></i></a>
            </button>
            <div id="myModal" class="modal" >
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Giỏ Hàng</h5>
                    </div>
                    <div class="modal-body">
                        <div class="cart-row">
                            <div class="zll"></div>
                            <span id="sp" class="cart-item cart-header">Sản Phẩm</span>
                            <span id="gia" class="cart-price cart-header">Giá</span>
                            <span id="sl" class="cart-quantity cart-header">Số Lượng</span>
                        </div>
                        <div class="cart-items">
                          <div></div>
                        </div>
                        
                    </div>
                    <div class="modal-anger">
                      <div class="cart-total">
                        <strong class="cart-total-title">Tổng Cộng:</strong>
                        <span class="cart-total-price">0VNĐ</span>
                      </div>
                        <button type="button" class="btn btn-secondary close-anger">Đóng</button>
                        <button type="button" class="btn btn-primary order">Thanh Toán</button>
                    </div>
                </div>
            </div>
        </nav>
    </header>
    <div class="container">
        <h2>Chi tiết sản phẩm</h2> 
        <div>
            <div class="big-img">
                <img src="https://cdn.vuahanghieu.com/unsafe/0x900/left/top/smart/filters:quality(90)/https://admin.vuahanghieu.com/upload/product/2023/04/tui-cam-tay-gucci-off-white-gg-embossed-cosmetic-pouch-mau-trang-644b6b0a1b8ec-28042023134322.jpg" alt="">
            </div>   
            
            <div class="content-product">
                <h1 class="content-product-h1">Túi Cầm Tay Gucci Off-White Gg Embossed Cosmetic Pouch Màu Trắng</h1>                
                <div class="price">
                    <label class="gia">Giá:</label>
                    <span class="money">13000000đ</span><br>
                </div>
                <button type="button" class="btn btn-cart">Thêm Vào Giỏ</button>                
            </div>
            <div class="images">
                <div class="small-img">
                    <img src="https://cdn.vuahanghieu.com/unsafe/0x900/left/top/smart/filters:quality(90)/https://admin.vuahanghieu.com/upload/product/2023/04/tui-cam-tay-gucci-off-white-gg-embossed-cosmetic-pouch-mau-trang-644b6b0a1b8ec-28042023134322.jpg" onclick="showimg(this.src)">
                </div>
                <div class="small-img">
                    <img src="https://cdn.vuahanghieu.com/unsafe/0x900/left/top/smart/filters:quality(90)/https://admin.vuahanghieu.com/upload/product/2023/04/tui-cam-tay-gucci-off-white-gg-embossed-cosmetic-pouch-mau-trang-644b6b0a1ffca-28042023134322.jpg" onclick="showimg(this.src)">
                </div>
                <div class="small-img">
                    <img src="https://cdn.vuahanghieu.com/unsafe/0x900/left/top/smart/filters:quality(90)/https://admin.vuahanghieu.com/upload/product/2023/04/tui-cam-tay-gucci-off-white-gg-embossed-cosmetic-pouch-mau-trang-644b6b0a0dfbe-28042023134322.jpg" onclick="showimg(this.src)">
                </div>
                <div class="small-img">
                    <img src="https://cdn.vuahanghieu.com/unsafe/0x900/left/top/smart/filters:quality(90)/https://admin.vuahanghieu.com/upload/product/2023/04/tui-cam-tay-gucci-off-white-gg-embossed-cosmetic-pouch-mau-trang-644b6b0a2425c-28042023134322.jpg" onclick="showimg(this.src)">
                </div>
            </div>
            <div class="clear-both">
            </div>
            <p><b> Túi Cầm Tay Gucci Off-White Gg Embossed Cosmetic Pouch Màu Trắng</b> là chiếc túi thời trang đến từ thương hiệu Gucci nổi tiếng. 
                Với thiết kế trẻ trung, kiểu dáng hiện đại chiếc túi mang lại vẻ đẹp lịch lãm, thời trang cho người dùng.</p>
            <p><b>Túi Cầm Tay Gucci Off-White Gg Embossed Cosmetic Pouch Màu Trắng</b> được làm từ chất liệu vài canvas và da cao cấp,
                lớp lót bằng vải bền đẹp lâu dài trong quá trình sử dụng. Form túi chuẩn đẹp với các đường chỉ may sắc nét và vô cùng chắc chắn.
                Thiết kế tiện lợi với ngăn đựng rộng rãi sức chwuas được nhiều đồ rất tiện lợi,phần quai linh hoạt, thời trang làm cho mẫu túi 
                này được ưa chuộng. Sở hữu gam màu trắng thanh lịch cùng điểm nhấn họa tiết chữ lồng quen thuộc, mang tới một phong cách hiện đại, 
                trẻ trung giúp bạn dễ dàng giúp bạn kết hợp với nhiều trang phục khác nhau
            </p>
            <p>Thương hiệu: Gucci <br>
                Xuất sứ: Ý <br>
                Phân loại: Túi cầm tay <br>
                Chất liệu: Canvas,da <br>
                Màu sắc: Trắng <br>
                </p>
        </div>
    </div>
    <div class="footer">
        <div class="">
            <div class="row">
                <div class="col">
                    <h3 class="footer__title" id="CS">Hỗ trợ khách hàng</h3>
                    <ul class="">
                        <li class="">
                            <a href="" class="footer__link">Hướng dẫn mua hàng</a>
                        </li>
                        <li class="">
                            <a href="" class="footer__link">Giải đáp thắc mắc</a>
                        </li>
                        <li class="">
                            <a href="" class="footer__link">Chính sách mua hàng</a>
                        </li>
                        <li class="">
                            <a href="" class="footer__link">Chính sách đổi trả</a>
                        </li>
                    </ul>
                </div>
                <div class="col">
                    <h3 class="footer__title" id="LIENHE">Liên hệ</h3>
                    <ul class="">
                        <li class="">
                            <span class="footer__text">
                                    <i class="fas fa-map-marked-alt"></i> Nghĩa Trang - Phan Đình Phùng - Mỹ Hào - Hưng Yên
                                </span>
                        </li>
                        <li class="">
                            <a href="#" class="footer__link">
                                <i class="fas fa-phone-alt"></i> 0969062171
                            </a>
                        </li>
                        <li class="">
                            <a href="#" class="footer__link">
                                <i class="fas fa-envelope"></i> phuong0364476965@gmail.com
                            </a>
                        </li>
                    </ul>
                </div>
                <div class="">
                    <h3 class="footer__title">Đăng kí</h3>
                    <ul class="footer__list">
                        <li class="">
                            <span class="footer__text">Đăng ký để nhận được được thông tin ưu đãi mới nhất từ chúng tôi.</span>
                        </li>
                        <li class="">
                            <div class="">
                                <input class="mail" type="email" placeholder="Nhập Email...">
                                <a href="#" class="">
                                    <i class="fas fa-email"></i>
                                </a>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <script>
        var modal = document.getElementById("myModal");
        var btn = document.getElementById("cart");
        var close_anger = document.getElementsByClassName("close-anger")[0];
        var order = document.getElementsByClassName("order")[0];
        btn.onclick = function () {
        modal.style.display = "block";
        }
        close.onclick = function () {
        modal.style.display = "none";
        }
        close_anger.onclick = function () {
        modal.style.display = "none";
        }
        order.onclick = function () {
        alert("Cảm ơn bạn đã thanh toán đơn hàng")
        }
        window.onclick = function (event) {
        if (event.target == modal) {
         modal.style.display = "none";
        }
        }
         // update cart 
     function updatecart() {
     var cart_item = document.getElementsByClassName("cart-items")[0];
     var cart_rows = cart_item.getElementsByClassName("cart-row");
     var total = 0;
     for (var i = 0; i < cart_rows.length; i++) {
      var cart_row = cart_rows[i]
      var price_item = cart_row.getElementsByClassName("cart-price ")[0]
      var quantity_item = cart_row.getElementsByClassName("cart-quantity-input")[0]
      var price = parseFloat(price_item.innerText)// chuyển một chuổi string sang number để tính tổng tiền.
      var quantity = quantity_item.value // lấy giá trị trong thẻ input
      total = total + (price * quantity)
     }
     document.getElementsByClassName("cart-total-price")[0].innerText = total + 'VNĐ'
     // Thay đổi text = total trong .cart-total-price. Chỉ có một .cart-total-price nên mình sử dụng [0].
     }
     // thay đổi số lượng sản phẩm
     var quantity_input = document.getElementsByClassName("cart-quantity-input");
     for (var i = 0; i < quantity_input.length; i++) {
     var input = quantity_input[i];
     input.addEventListener("change", function (event) {
      var input = event.target
      if (isNaN(input.value) || input.value <= 0) {
        input.value = 1;
      }
      updatecart()
     })
     }
     // Thêm vào giỏ
     var add_cart = document.getElementsByClassName("btn-cart");
     for (var i = 0; i < add_cart.length; i++) {
     var add = add_cart[i];
     add.addEventListener("click", function (event) {
     
      var button = event.target;
      var product = button.parentElement.parentElement;
      var img = product.parentElement.getElementsByClassName("big-img")[0].innerHTML
      var title = product.getElementsByClassName("content-product-h1")[0].innerText
      var price = product.getElementsByClassName("price")[0].innerText
      addItemToCart(title, price, img)
      // Khi thêm sản phẩm vào giỏ hàng thì sẽ hiển thị modal
      modal.style.display = "block";
      
      updatecart()
     })
     }
     
     function addItemToCart(title, price, img) {
     var cartRow = document.createElement('div')
     cartRow.classList.add('cart-row')
     var cartItems = document.getElementsByClassName('cart-items')[0]
     var cart_title = cartItems.getElementsByClassName('cart-item-title')
     for (var i = 0; i < cart_title.length; i++) {
      if (cart_title[i].innerText == title) {
        alert('Sản Phẩm Đã Có Trong Giỏ Hàng')
        return
      }
     }
     
     var cartRowContents = `
     
       <div class="cart-item cart-column" style="float: left; margin-left:20px">
         <img class="cart-item-image"  style="float: left; margin: 0 0 0 -125%"> src= ${img}   
         <span class="cart-item-title" style="float: left">${title}</span>
       </div>
       <span class="cart-price cart-column" style="float: left; padding: 0 0 0 10px">${price}</span>
       <div class="cart-quantity cart-column" style="float: left; padding: 0 0 0 10px">
         <input class="cart-quantity-input" type="number" value="1" style="float: left">
         <button class="btn btn-danger" type="button" style="float: left">Xóa</button>
       </div>
     `
     cartRow.innerHTML = cartRowContents
     cartItems.prepend(cartRow)
     cartRow.getElementsByClassName('btn-danger')[0].addEventListener('click', function () {
      var button_remove = event.target
      button_remove.parentElement.parentElement.remove()
      updatecart()
     })
     cartRow.getElementsByClassName('cart-quantity-input')[0].addEventListener('change', function (event) {
      var input = event.target
      if (isNaN(input.value) || input.value <= 0) {
        input.value = 1;
      }
      updatecart()
     })
     }
    </script>
</body>
</html>